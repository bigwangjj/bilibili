var app=angular.module("myApp",["ng"]);app.factory("$heart",["$interval",function(a){return{start:function(){promise=a(function(){console.log("跳了一下")},500)},end:function(){a.cancel(promise);console.log("死了")}}}]);app.controller("myCtrl",["$scope","$heart",function(a,b){a.btnStart=function(){b.start()};a.btnEnd=function(){b.end()}}]);